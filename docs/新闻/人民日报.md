---
# icon: lucide/newspaper
hide:
  - navigation
  - toc
  - path
---

# 人民日报



<div class="browser-mockup">
    <div class="browser-header">
        <div class="window-controls">
            <span class="dot red"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
        </div>
        <!-- ID: current-date-text 用于显示日期 -->
        <div class="browser-nav">
            <button id="btn-prev" class="nav-btn" title="前一天">
                <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
            </button>
            
            <input type="date" id="date-picker" class="nav-date-input">
            
            <button id="btn-next" class="nav-btn" title="后一天" disabled>
                <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
            </button>
        </div>

        <!-- 模拟地址栏 (显示当前日期信息) -->
        <div class="browser-url" id="current-date-text" title="点击跳转到官网查看">正在获取今日报纸...</div>
    </div>
    <!-- ID: daily-paper-iframe 用于动态修改 src -->
    <iframe id="daily-paper-iframe" src=""></iframe>
</div>

<style>
  .md-content__inner h1 { display: none; }
  .md-content__button { display: none; }
</style>


<style>
/* --- 浏览器外壳样式 --- */
.browser-mockup {
    border: 1px solid #d1d5da;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    margin: 20px 0;
    overflow: hidden;
    background: #fff;
    display: flex;
    flex-direction: column;
}

/* 顶部工具栏 */
.browser-header {
    background: #f1f3f5;
    padding: 10px 15px;
    display: flex;
    align-items: center;
    border-bottom: 1px solid #d1d5da;
    gap: 15px;
    flex-wrap: wrap; /* 允许在超小屏幕换行 */
}

/* 窗口控制点 (红黄绿) */
.window-controls {
    display: flex;
    gap: 8px;
    min-width: 52px;
}
.browser-header .dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    display: block;
}
.browser-header .dot.red { background: #ff5f56; border: 1px solid #e0443e; }
.browser-header .dot.yellow { background: #ffbd2e; border: 1px solid #dea123; }
.browser-header .dot.green { background: #27c93f; border: 1px solid #1aab29; }

/* 导航按钮区域 */
.browser-nav {
    display: flex;
    align-items: center;
    background: #e1e4e8;
    border-radius: 6px;
    padding: 2px;
    gap: 2px;
}

/* 前后翻页按钮 */
.nav-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    border-radius: 4px;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #444;
    transition: all 0.2s;
}
.nav-btn:hover:not(:disabled) {
    background-color: #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
/* 禁用状态：变灰、不可点 */
.nav-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    pointer-events: none; /* 禁止鼠标交互 */
}

/* 日期选择器 */
.nav-date-input {
    border: none;
    background: transparent;
    padding: 0 6px;
    font-family: inherit;
    font-size: 13px;
    color: #333;
    outline: none;
    height: 30px;
    font-weight: 500;
    max-width: 110px; /* 防止手机上太宽 */
}
.nav-date-input:focus {
    background: #fff;
    border-radius: 4px;
}

/* 地址栏 */
.browser-header .browser-url {
    background: #fff;
    border-radius: 4px;
    padding: 6px 15px;
    font-size: 13px;
    color: #555;
    flex-grow: 1;
    text-align: center;
    border: 1px solid #ced4da;
    transition: border-color 0.2s, color 0.2s;
    cursor: pointer;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    min-width: 150px;
}
.browser-header .browser-url:hover {
    border-color: #0066cc;
    color: #0066cc;
    background-color: #fafbfc;
}

/* Iframe 内容区 */
.browser-mockup iframe {
    width: 100%;
    height: 85vh; /* 占据视口高度的85% */
    min-height: 800px;
    border: none;
    display: block;
    background-color: #fff;
}

/* --- 移动端适配样式 --- */
@media (max-width: 768px) {
    .window-controls {
        display: none; /* 手机端隐藏红绿灯，节省空间 */
    }
    .browser-header {
        padding: 8px 10px;
        gap: 8px;
    }
    .browser-url {
        order: 3; /* 将地址栏放到第二行 */
        width: 100%;
        margin-top: 5px;
    }
    .browser-nav {
        flex-grow: 1;
        justify-content: space-between;
    }
    .nav-date-input {
        flex-grow: 1;
        text-align: center;
    }
    /* 手机端调整 iframe 高度 */
    .browser-mockup iframe {
        height: 80vh; 
        min-height: 500px; /* 手机上不需要最小800px */
    }
}
</style>


<script>
(function() {
    // === 1. DOM 元素获取 ===
    const iframe = document.getElementById('daily-paper-iframe');
    const urlText = document.getElementById('current-date-text');
    const datePicker = document.getElementById('date-picker');
    const btnPrev = document.getElementById('btn-prev');
    const btnNext = document.getElementById('btn-next');

    // === 2. 初始化时间 ===
    const today = new Date();
    today.setHours(0, 0, 0, 0);

    let currentDate = new Date(today);
    let currentMode = ''; // 记录当前是 'pc' 还是 'pad'，避免重复刷新

    // === 3. 核心逻辑函数 ===

    function getDateInfo(date) {
        const y = date.getFullYear();
        const m = (date.getMonth() + 1).toString().padStart(2, '0');
        const d = date.getDate().toString().padStart(2, '0');

        return {
            dateObj: date,
            iso: `${y}-${m}-${d}`,
            urlPath: `${y}${m}/${d}`,
            display: `${y}年${m}月${d}日`
        };
    }


    function getPlatformType() {
        // 使用 768px 作为移动端/PC端的分界线
        // 或者检测 UserAgent (可选，但检测宽度更可靠)
        if (window.innerWidth <= 768) {
            return 'pad';
        }
        return 'pc';
    }

    function loadPaper(targetDate, forceRefresh = false) {
        targetDate.setHours(0, 0, 0, 0);
        currentDate = new Date(targetDate);
        
        const info = getDateInfo(currentDate);
        const platform = getPlatformType(); // 获取当前是 'pc' 还是 'pad'

        // 只有当日期改变，或者平台模式(pc/pad)改变时才刷新 iframe
        if (!forceRefresh && currentMode === platform && iframe.dataset.lastDate === info.iso) {
            return; 
        }

        // 更新状态记录
        currentMode = platform;
        iframe.dataset.lastDate = info.iso;

        // 1. 生成 URL (动态切换 pc / pad)
        // PC: https://paper.people.com.cn/rmrb/pc/layout/202601/15/node_01.html
        // Mobile: https://paper.people.com.cn/rmrb/pad/layout/202601/15/node_01.html
        const baseUrl = `https://paper.people.com.cn/rmrb/${platform}/layout`;
        const fullUrl = `${baseUrl}/${info.urlPath}/node_01.html`;

        // 2. 更新 Iframe
        if (iframe) {
            iframe.src = fullUrl;
        }

        // 3. 更新地址栏文字
        if (urlText) {
            const versionText = platform === 'pad' ? '手机版' : 'PC版';
            urlText.textContent = `人民日报(${versionText}) / ${info.display}`;
            urlText.onclick = () => window.open(fullUrl, '_blank');
        }

        // 4. 更新日期选择器
        if (datePicker) {
            datePicker.value = info.iso;
        }

        // 5. 按钮状态控制
        if (btnNext) {
            if (currentDate.getTime() >= today.getTime()) {
                btnNext.disabled = true;
                btnNext.title = "已是最新日期";
            } else {
                btnNext.disabled = false;
                btnNext.title = "后一天";
            }
        }
    }

    // === 4. 事件绑定 ===

    btnPrev.addEventListener('click', function() {
        const prevDate = new Date(currentDate);
        prevDate.setDate(prevDate.getDate() - 1);
        loadPaper(prevDate);
    });

    btnNext.addEventListener('click', function() {
        if (currentDate.getTime() >= today.getTime()) return;
        const nextDate = new Date(currentDate);
        nextDate.setDate(nextDate.getDate() + 1);
        loadPaper(nextDate);
    });

    datePicker.addEventListener('change', function(e) {
        if (!e.target.value) return;
        const parts = e.target.value.split('-');
        const selectedDate = new Date(parts[0], parts[1] - 1, parts[2]);

        if (selectedDate.getTime() > today.getTime()) {
            loadPaper(today);
        } else {
            loadPaper(selectedDate);
        }
    });

    // === 新增: 监听窗口大小变化 ===
    // 如果用户旋转屏幕或调整浏览器窗口，自动切换 PC/手机版
    let resizeTimer;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
            // 强制检查并刷新，参数 forceRefresh = true 并非必须，
            // 但我们需要 loadPaper 内部判断 currentMode 是否发生了变化
            // 为了简单，我们直接调用 loadPaper，依靠内部逻辑判断是否需要重载
            const newPlatform = getPlatformType();
            if (newPlatform !== currentMode) {
                // 只有当模式从 PC 变 Pad (或反之) 时才重新加载 URL
                loadPaper(currentDate, true); 
            }
        }, 200); // 防抖 200ms
    });

    // === 5. 初始化设置 ===

    datePicker.max = getDateInfo(today).iso;
    loadPaper(today);

})();
</script>


<div class="no-read-time"></div>